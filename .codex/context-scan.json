{
  "timestamp": "2025-11-19T17:05:00+08:00",
  "rootStructure": {
    "gui_main": ["main.py", "qml/", "alarm_store.py", "csv_model.py", "file_tree_browser.py", "socket_client.py", "qml_socket_client_bridge.py", "resources/"],
    "new_loadport": ["E84Passive.py", "e84_thread.py", "GPIOController.py", "serial_device.py", "main.py"],
    "tests": ["test_serial_device.py"],
    "sharedDocs": ["verification.md"]
  },
  "currentIssues": [
    "Python 模块散落在 gui_main/new_loadport 目录，缺少统一包结构",
    "QML 与 Python 同层放置，资源定位依赖 cwd，运行脚本需要手工调路径",
    "没有 src/ 目录或 pyproject，无法直接 pip 安装或引用",
    "tests 目录引用旧的包路径（new_loadport），未来重构需同步"
  ],
  "goals": [
    "引入 src/voc_app 包含 gui 与 loadport 子包，形成现代化结构",
    "将 QML/资源保留在 gui 子包内部，使用 __file__ 计算路径",
    "提供统一入口（例如 scripts/run_gui.py 或 python -m voc_app.gui.main）",
    "更新 tests/ 与其他模块以新包路径运行"
  ],
  "references": {
    "gui_entry": "gui_main/main.py 使用 QApplication + QQmlApplicationEngine",
    "loadport_entry": "new_loadport/main.py 作为 QCoreApplication 示例",
    "serial_device": "new_loadport/serial_device.py 提供通用串口实现"
  },
  "observationReport": {
    "gaps": ["缺少 __init__.py 形成包", "资源路径依赖相对路径"],
    "suggestedNext": ["创建 src/voc_app with gui/loadport", "更新 imports/test", "调整 run 脚本"]
  }
}
