{
  "timestamp": "2025-12-09T09:25:34Z",
  "question": "E84 三键落下事件在哪处理，如何接入 FOUP 连接？",
  "why": "需求要求三键落下即创建 socket 长连接，需确定挂载点。",
  "findings": {
    "event_hook": "loadport/e84_passive.py 的 Refresh_Input 检测三个 KEY 全为真时调用 _key_set_callback()，当前为空实现。",
    "signals": "E84Controller 提供 state_changed/warning/fatal_error 信号，无三键专用信号。E84ControllerThread 将 state_changed/warning/fatal_error 转发到 GUI 线程。",
    "gui_integration": "gui/app.py 中 LoadportBridge（负责启动 E84ControllerThread 并转发消息）整段被注释，默认 GUI 不会启动 E84 线程；loadport/main.py 以 CLI 形式演示信号连接。",
    "implication": "要实现自动长连接，可在 _key_set_callback 发出新信号或调用回调；同时需在 GUI 启动 LoadportBridge 或等效桥接以注册回调，否则 GUI 侧不会收到键落事件。"
  }
}
